(this["webpackJsonpfish-bowl"]=this["webpackJsonpfish-bowl"]||[]).push([[0],{159:function(e,t,a){e.exports=a(292)},164:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),l=a.n(o),c=(a(164),a(103)),i=a(41),u=a(293),m=a(297),s=a(46),d=a(296),f=a(70),p=a(50),b=a(294),y=a(301),h=a(302),g=a(295),w=a(298),E=a(300),k=a(299),x=a(303),O=function(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),r=Object(i.a)(a,2),o=r[0],l=r[1];return[o,function(t){try{var a=t instanceof Function?t(o):t;l(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]},v={minWidth:"500px",margin:"5px",flex:"1",wordBreak:"break-all"},S=[{key:"Meditar",name:"Meditar",points:1},{key:"Lavar",name:"Lavar",children:[{key:"Lavar cara",name:"Lavar cara",points:1},{key:"Lavar Pelo",name:"Lavar Pelo",points:1}]},{key:"Ejercicio",name:"Ejercicio",points:1},{key:"Trabajo",name:"Trabajo",points:3}],j=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),o=a[0],l=a[1];return r.a.createElement(p.a,{disabled:o,onClick:function(){l(!0),e.onClick()}},e.children)},I=function(e){var t=e.drawSlip,a=void 0===t?function(e,t){console.log("Not implemented!",e,t)}:t,o=Object(n.useState)("table"),l=Object(i.a)(o,2),c=l[0],u=l[1],s=g.a.useForm(),f=Object(i.a)(s,1)[0],y=O("fish-bowl-routines-raw",JSON.stringify(S,null,2)),h=Object(i.a)(y,2),I=h[0],N=h[1],C=function(e){return[{title:"Name",dataIndex:"name",key:"name"},{title:"Points",dataIndex:"points",key:"points"},{title:"",dataIndex:"draw",key:"draw",render:function(t,a){return a.children?null:r.a.createElement(j,{onClick:function(){return e(a.name,a.points)}},"Draw")}}]}(a);Object(n.useEffect)((function(){"raw"!==c&&"error"!==c||f.resetFields()}),[I]);var J=function(e){[e.raw].map(JSON.parse).map((function(e){return JSON.stringify(e,null,2)})).map(N).map(w.b.success("Routines saved!"))},F=function(e){var t=e.mode,a=e.setMode;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{style:{margin:"0"},disabled:"table"===t||"error"===t,onClick:function(){return a("table")},icon:r.a.createElement(E.a,null)}),r.a.createElement(p.a,{style:{margin:"0"},disabled:"raw"===t||"error"===t,onClick:function(){return a("raw")},icon:r.a.createElement(k.a,null)}))};return r.a.createElement(d.a,{title:"Routines",style:v,extra:r.a.createElement(F,{mode:c,setMode:u})},function(){switch(c){case"table":return r.a.createElement(b.a,{tableLayout:"fixed",expandable:{indentSize:4,defaultExpandAllRows:!0},columns:C,dataSource:JSON.parse(I)});case"raw":case"error":return r.a.createElement(g.a,{form:f,name:"routines-raw",onFinish:J,initialValues:{raw:I}},"error"===c&&r.a.createElement("p",{style:{color:"red"}}," Invalid JSON! "),r.a.createElement(g.a.Item,{name:"raw"},r.a.createElement(m.a.TextArea,{autoSize:!0,onChange:function(e){return function(e){try{JSON.parse(e),u("raw")}catch(t){console.log("Invalid JSON!"),u("error")}}(e.target.value)}})),"error"===c&&r.a.createElement("p",{style:{color:"red"}}," Invalid JSON! "),r.a.createElement(g.a.Item,{style:{textAlign:"right"}},r.a.createElement(p.a,{className:"bg-secondary btn-fix",disabled:"table"===c||"error"===c,htmlType:"submit",icon:r.a.createElement(x.a,null)})))}}())},N=u.a.Header,C=u.a.Footer,J=u.a.Content,F=function(e){return!!e&&Math.random()<=e};var M=function(){return new Promise((function(e,t){F(.45)&&e(0),F(.95)?e(function(e,t){var a=Math.ceil(e),n=Math.floor(t);return Math.floor(Math.random()*(n-a))+a}(1,21)):e(100)}))},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(a,n){var r=new Date;a({key:Math.random(),point:0===e?"Keep up the good work!":e,timestamp:Date.now(),date:L(r),name:t})}))},L=function(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),a=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e),r=new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric"}).format(e);return"".concat(n,"-").concat(a,"-").concat(t," ").concat(r)},T=[{title:"Date",dataIndex:"date",key:"date"},{title:"Routine",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(m.a,{placeholder:"Enter routine name",defaultValue:t.name})}},{title:"Points",dataIndex:"point",key:"point"}],A={minWidth:"500px",margin:"5px",flex:"1",wordBreak:"break-all",textAlign:"center"},P=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)("Keep up the good work!"),u=Object(i.a)(l,2),m=u[0],y=u[1],h=Object(n.useState)([]),g=Object(i.a)(h,2),w=g[0],E=g[1];return r.a.createElement(s.a,{offset:2,span:20,style:{width:"100%",padding:"5px"}},r.a.createElement(d.a,{title:"Bowl",style:A},r.a.createElement("h1",null,"Current exp:"),r.a.createElement("p",null,a),r.a.createElement("h1",null,"Last slip:"),r.a.createElement("p",null,m),r.a.createElement(f.a,{style:{justifyContent:"center"}},r.a.createElement(p.a,{className:"bg-secondary mx-3 mb-5 mt-3 px-5 py-2 font-bold",onClick:function(){return M().then((function(e){return 0===e?y("Keep up the good work!"):(y(e),o(a+e)),D(e)})).then((function(e){E([].concat(Object(c.a)(w),[e]))})).catch((function(e){return console.log(e)}))}},"Draw a slip!"),r.a.createElement(p.a,{className:"bg-secondary mx-3 mb-5 mt-3 px-5 py-2 font-bold",onClick:function(){E([]),o(0),y("Keep up the good work!")}},"Clear"))),r.a.createElement(I,{drawSlip:function(e,t){Object(c.a)(Array(t).keys()).map((function(t){return M().then((function(t){return 0===t?y("Keep up the good work!"):(y(t),o(a+t)),D(t,e)})).then((function(e){E([].concat(Object(c.a)(w),[e]))})).catch((function(e){return console.log(e)}))}))}}),r.a.createElement(d.a,{title:"History",style:A},r.a.createElement(b.a,{tableLayout:"fixed",pagination:{defaultPageSize:5},columns:T,dataSource:w})))},B=function(){var e=Object(n.useState)({collapsed:!1}),t=Object(i.a)(e,2),a=t[0],o=t[1];return r.a.createElement(u.a,{className:"site-layout"},r.a.createElement(N,{className:"site-layout-background",style:{padding:0}},r.a.createElement(a.collapsed?y.a:h.a,{className:"trigger",onClick:function(){return o({collapsed:!a.collapsed})}}),r.a.createElement("h1",{style:{flex:"1",color:"white",fontWeight:"bold",textAlign:"center"}},"Fish Bowl (Beta)")),r.a.createElement(J,{style:{padding:24,minHeight:280,overflowY:"auto"}},r.a.createElement(P,null)),r.a.createElement(C,{style:{textAlign:"right",fontWeight:"bold"}},"Created by cazdemun"))},K=document.getElementById("root");l.a.render(r.a.createElement(B,null),K)}},[[159,1,2]]]);
//# sourceMappingURL=main.8f1f8cfe.chunk.js.map