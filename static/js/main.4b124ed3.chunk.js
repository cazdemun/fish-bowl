(this["webpackJsonpfish-bowl"]=this["webpackJsonpfish-bowl"]||[]).push([[0],{151:function(e){e.exports=JSON.parse('[{"key":"4d6c7a7b-6487-4c73-b2f3-6920976a7f2d","name":"Ma\xf1ana","children":[{"key":"fb5d9174-cfb3-448a-9ecb-1a2aa876952d","name":"Levantarse a las 7:30","points":1},{"key":"1f0fd68b-ea84-4f70-befe-3b11a20860cd","name":"Meditar  (15 minutos)","points":1},{"key":"91576160-2aae-4ce1-bb56-48711821926d","name":"Tender cama","points":1},{"key":"Ejercicio","name":"Ejercicio (HIT + 20 push-ups)","points":1},{"key":"eaa600e7-2a69-4c78-9301-f05049611ffc","name":"Ducha","points":3},{"key":"40ce2e06-48e5-4de9-b59b-a099b2498b7c","name":"Desayuno (Prote\xedna + Glucosa)","points":1},{"key":"a069d31f-68b9-46ff-83da-946d26600064","name":"Ordenar/Limpiar/Lavar","points":1},{"key":"d2b42619-cff9-49a1-a8b9-af39fb9f37ed","name":"Trabajo (1 pomodoro)","points":3},{"key":"d1ff162c-08ac-41b7-87f8-972fb986ecbd","name":"Trabajo 2 (1 pomodoro)","points":1},{"key":"a61042fd-d0be-47e3-8479-e313fc63d886","name":"Investigaciones sobre la voluntad (1 pomodoro)","points":3},{"key":"e41f7ff8-f01e-4d11-859e-e829f1aa5855","name":"Registro en el Journal","points":1}]},{"key":"Tarde","name":"Tarde","children":[{"key":"Meditar - Tarde","name":"Meditar  - Tarde (10 minutos)","points":1},{"key":"Momento creativo ","name":"Momento creativo (1 pomodoro)","points":3},{"key":"Estudio","name":"Estudio (1 pomodoro)","points":3}]},{"key":"Noche","name":"Noche","children":[{"key":"Meditar - Noche","name":"Meditar  - Noche (10 minutos)","points":1}]}]')},180:function(e,t,a){e.exports=a(314)},185:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),i=a.n(o),c=(a(185),a(73)),l=a(173),s=a(315),u=a(320),d=a(319),m=a(81),f=a(58),p=a(317),b=a(54),E=a(316),y=a(322),h=a(323),x=a(175),g=a(321),k=a(318),v=a(326),S=a(325),w=a(324),O=a(10),j=a(121),I=a(111),N=function(e){return!!e&&Math.random()<=e},C=function(e,t){var a=Math.ceil(e),n=Math.floor(t);return Math.floor(Math.random()*(n-a))+a},M=function(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),a=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e),r=new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric"}).format(e);return"".concat(n,"-").concat(a,"-").concat(t," ").concat(r)},A=a(151),D=Object(O.b)({routines:function(){var e=localStorage.getItem("fish-bowl-routines-raw");return e?JSON.parse(e):A}}),T=Object(O.b)({routines:function(e,t){var a=JSON.parse(t.value);return localStorage.setItem("fish-bowl-routines-raw",JSON.stringify(a,null,2)),g.b.success("Routines saved!"),a}}),R=Object(j.a)({id:"routines",context:{routines:[]},initial:"start",states:{start:{on:{"":{target:"idle",actions:["loadRoutines"]}}},idle:{on:{EDIT:{target:"edit"}}},edit:{on:{VISUALIZE:{target:"idle"},SAVE:{target:"idle",actions:["saveRoutines"]}}}}},{actions:{loadRoutines:D,saveRoutines:T}}),J=function(e){var t=e.children,a=e.onClick,o=Object(x.a)(e,["children","onClick"]),i=Object(n.useState)(!1),l=Object(c.a)(i,2),s=l[0],u=l[1];return r.a.createElement(f.a,Object.assign({disabled:s,onClick:function(){u(!0),a()}},o),t)},F=function(e){var t=e.current,a=e.send;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{style:{margin:"0"},disabled:t.matches("idle"),onClick:function(){return a("VISUALIZE")},icon:r.a.createElement(v.a,null)}),r.a.createElement(f.a,{style:{margin:"0"},disabled:t.matches("edit"),onClick:function(){return a("EDIT")},icon:r.a.createElement(S.a,null)}))},L=function(){return r.a.createElement(k.a.Item,{style:{textAlign:"right"}},r.a.createElement(f.a,{className:"bg-secondary btn-fix",htmlType:"submit",icon:r.a.createElement(w.a,null)},"Save"))},z=function(e){var t=e.drawSlip,a=void 0===t?function(e,t){console.log("Not implemented!",e,t)}:t,o=Object(I.useMachine)(R),i=Object(c.a)(o,2),l=i[0],s=i[1],m=k.a.useForm(),f=Object(c.a)(m,1)[0],b=function(e){return[{title:"Name",dataIndex:"name",key:"name",colSpan:3,render:function(e){return{children:e,props:{colSpan:3}}}},{title:"Points",dataIndex:"points",key:"points",colSpan:2,render:function(e){return{children:e,props:{colSpan:2,align:"center"}}}},{title:"",dataIndex:"draw",key:"draw",render:function(t,a){return{children:a.children?"":r.a.createElement(J,{onClick:function(){return e(a.name,a.points)}},"Draw"),props:{align:"center"}}}}]}(a);Object(n.useEffect)((function(){l.matches("edit")&&f.resetFields()}),[l.value,l,f]);var E=function(e,t){return""===t?Promise.reject():(a="Invalid JSON!",n=function(){return JSON.parse(t)},new Promise((function(e,t){try{e(n())}catch(r){t(a)}})));var a,n};return r.a.createElement(d.a,{title:"Routines",extra:r.a.createElement(F,{current:l,send:s})},function(){switch(l.value){case"idle":return r.a.createElement(p.a,{tableLayout:"fixed",expandable:{indentSize:4,defaultExpandAllRows:!0},columns:b,dataSource:l.context.routines});case"edit":return r.a.createElement(k.a,{name:"routines",form:f,initialValues:{data:JSON.stringify(l.context.routines,null,2)},onFinish:function(e){return s("SAVE",{value:e.data})}},r.a.createElement(L,null),r.a.createElement(k.a.Item,{name:"data",rules:[{required:!0,message:"Please input an array of objects in JSON format!"},{validator:E}]},r.a.createElement(u.a.TextArea,{autoSize:!0})),r.a.createElement(L,null))}}())},P=s.a.Header,V=s.a.Footer,W=s.a.Content,B=Object(O.b)((function(e,t){var a=t.value,n=a.name,r=a.points,o=new Date,i=Object(l.a)(Array(r).keys()).map((function(e){return{key:C(1,1e6),timestamp:Date.now(),date:M(o),name:n,exp:N(.45)?0:N(.95)?C(1,21):100}}));return 0===r?{}:{experience:e.experience+i.reduce((function(e,t){return e+t.exp}),0),lastSlip:i[r-1].exp,history:e.history.concat(i)}})),H=Object(O.b)((function(e,t){return{experience:0,lastSlip:0,history:[]}})),G=Object(j.a)({id:"bowl",context:{experience:0,zeroMessage:"Keep up the good work!",lastSlip:0,history:[]},initial:"idle",states:{idle:{on:{DRAW:{target:"idle",actions:["drawSlip"]},CLEAR:{target:"idle",actions:["clearContext"]}}}}},{actions:{drawSlip:B,clearContext:H}}),K=[{title:"Date",dataIndex:"date",key:"date"},{title:"Routine",dataIndex:"name",key:"name",render:function(e,t){return""===t.name?r.a.createElement(u.a,{placeholder:"Enter routine name",defaultValue:t.name}):t.name}},{title:"Experience",dataIndex:"exp",key:"exp",render:function(e,t){return 0===t.exp?"Keep up the Good Work!":t.exp}}],U=function(e){var t=e.current,a=e.send;return r.a.createElement(d.a,{title:"Bowl"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"Current exp:"),r.a.createElement("p",null,t.context.experience),r.a.createElement("h1",null,"Last slip:"),r.a.createElement("p",null,0===t.context.lastSlip?t.context.zeroMessage:t.context.lastSlip),r.a.createElement(m.a,{style:{justifyContent:"center"}},r.a.createElement(f.a,{className:"bg-secondary btn-fix",onClick:function(){return a("DRAW",{value:{name:"",points:1}})}},"Draw a slip!"),r.a.createElement(f.a,{className:"bg-secondary btn-fix",onClick:function(){return a("CLEAR")}},"Clear"))))},Z=function(e){var t=e.current;return r.a.createElement(d.a,{title:"History"},r.a.createElement(p.a,{tableLayout:"fixed",pagination:{defaultPageSize:9},columns:K,dataSource:t.context.history}))},q=function(){var e=Object(I.useMachine)(G),t=Object(c.a)(e,2),a=t[0],n=t[1];return r.a.createElement(m.a,{offset:2,span:20},r.a.createElement(b.a,{span:15},r.a.createElement(z,{drawSlip:function(e,t){return n("DRAW",{value:{name:e,points:t}})}}),r.a.createElement(E.a,null)),r.a.createElement(b.a,{span:9,style:{padding:"0px 10px"}},r.a.createElement(U,{current:a,send:n}),r.a.createElement(E.a,null),r.a.createElement(Z,{current:a}),r.a.createElement(E.a,null)))},Y=function(){var e=Object(n.useState)({collapsed:!1}),t=Object(c.a)(e,2),a=t[0],o=t[1];return r.a.createElement(s.a,{className:"site-layout"},r.a.createElement(P,{className:"site-layout-background",style:{padding:0}},r.a.createElement(a.collapsed?y.a:h.a,{className:"trigger",onClick:function(){return o({collapsed:!a.collapsed})}}),r.a.createElement("h1",{style:{flex:"1",color:"white",fontWeight:"bold",textAlign:"center"}},"Fish Bowl (Beta)")),r.a.createElement(W,{style:{padding:24,minHeight:280,overflowY:"auto"}},r.a.createElement(q,null)),r.a.createElement(V,{style:{textAlign:"right",fontWeight:"bold"}},"Created by cazdemun"))},Q=document.getElementById("root");i.a.render(r.a.createElement(Y,null),Q)}},[[180,1,2]]]);
//# sourceMappingURL=main.4b124ed3.chunk.js.map